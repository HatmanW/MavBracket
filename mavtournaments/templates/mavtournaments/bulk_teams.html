<!-- mavtournaments/templates/mavtournaments/bulk_teams.html -->
{% extends "base.html" %}
{% block title %}CSV Import — {{ t.name }}{% endblock %}
{% block content %}
<nav class="mb-3" aria-label="breadcrumb">
  <ol class="breadcrumb">
    <li class="breadcrumb-item"><a href="{% url 'tournaments:index' %}">Tournaments</a></li>
    <li class="breadcrumb-item"><a href="{% url 'tournaments:teams' t.id %}">{{ t.name }} — Teams</a></li>
    <li class="breadcrumb-item active">Import Teams</li>
  </ol>
</nav>

<h1 class="h4 mb-3">Import teams into {{ t.name }}</h1>
<p class="text-muted">Default team size for this tournament: <strong>{{ t.default_team_size }}</strong></p>

<div class="alert alert-info">
  You can upload a CSV file <em>or</em> paste the lines directly.
  Need a starting point? <a href="{% url 'tournaments:csv_template' t.id %}">Download the CSV template</a>.
</div>

<form method="post" enctype="multipart/form-data" class="mb-3">
  {% csrf_token %}

  <div class="mb-3">
    <label class="form-label">Upload CSV file</label>
    {{ form.file }}
    <div class="form-text">Formats accepted: <code>Team, user1, user2</code> or <code>Team; user1,user2</code></div>
  </div>

  <div class="my-2 text-center">— OR —</div>

  <div class="mb-3">
    <label class="form-label">Paste teams</label>
    {{ form.raw }}
  </div>

  <div class="row g-3 mb-3">
    <div class="col-12 col-md-6">
      <label class="form-label">Max players per team (default)</label>
      {{ form.default_max_players }}
    </div>
    <div class="col-12 col-md-6 form-check mt-4">
      {{ form.create_missing_users }} <label class="form-check-label">Create missing usernames automatically</label>
    </div>
  </div>

  <button class="btn btn-primary">Preview</button>
  <a href="{% url 'tournaments:teams' t.id %}" class="btn btn-outline-secondary">Cancel</a>
</form>
{% endblock %}
